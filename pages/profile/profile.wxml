<view class="profile-container">
  <!-- é¡¶éƒ¨ç©ºç™½é—´éš” -->
  <view class="top-spacing"></view>
  
  <!-- ç”¨æˆ·ä¿¡æ¯åŒºåŸŸ -->
  <view class="user-info-container">
    <view class="user-avatar-container">
      <image class="user-avatar" src="{{userInfo.avatarUrl}}" mode="aspectFill"></image>
    </view>
    <view class="user-details">
      <view class="user-name">{{userInfo.nickName}}</view>
      <view class="user-phone">
        <text>{{userInfo.phone}}</text>
      </view>
    </view>
    
    <!-- ç™»å½•æŒ‰é’® -->
    <view wx:if="{{!isLogin}}" class="login-button" bindtap="goToLogin">
      <text>ç™»å½•/æ³¨å†Œ</text>
    </view>
    
    <!-- é€€å‡ºç™»å½•æŒ‰é’® -->
    <view wx:else class="logout-button" bindtap="logout">
      <view class="logout-icon">â</view>
      <text>å®‰å…¨é€€å‡º</text>
    </view>
  </view>

  <!-- ä¼šå‘˜ä¿¡æ¯åŒºåŸŸ -->
  <view class="member-info-container" bindtap="goToMemberDetail">
    <view class="member-badge">
      <view class="crown-icon">ğŸ‘‘</view>
      <view class="member-text">{{memberInfo.level}}</view>
    </view>
    <view class="member-savings">
      <text>å·²ç´¯è®¡èŠ‚çœ Â¥{{memberInfo.saved}}</text>
    </view>
    <view class="member-detail-btn">
      <text>ä¼šå‘˜è¯¦æƒ…</text>
      <view class="detail-arrow"></view>
    </view>
  </view>

  <!-- æˆ‘çš„è®¢å•åŒºåŸŸ -->
  <view class="orders-container">
    <view class="orders-header">
      <text class="orders-title">æˆ‘çš„è®¢å•</text>
      <view class="view-all" bindtap="goToOrdersList">æŸ¥çœ‹å…¨éƒ¨</view>
    </view>
    
    <view class="order-status-icons">
      <view class="status-item" bindtap="goToOrders" data-status="toPay">
        <view class="status-icon payment-icon">
          <view class="icon-placeholder">ä»˜</view>
          <view class="badge" wx:if="{{orderStats.toPay > 0}}">{{orderStats.toPay}}</view>
        </view>
        <text>å¾…ä»˜æ¬¾</text>
      </view>
      <view class="status-item" bindtap="goToOrders" data-status="toBake">
        <view class="status-icon baking-icon">
          <view class="icon-placeholder">çƒ˜</view>
          <view class="badge" wx:if="{{orderStats.toBake > 0}}">{{orderStats.toBake}}</view>
        </view>
        <text>çƒ˜ç„™ä¸­</text>
      </view>
      <view class="status-item" bindtap="goToOrders" data-status="toDeliver">
        <view class="status-icon delivery-icon">
          <view class="icon-placeholder">é€</view>
          <view class="badge" wx:if="{{orderStats.toDeliver > 0}}">{{orderStats.toDeliver}}</view>
        </view>
        <text>é…é€ä¸­</text>
      </view>
      <view class="status-item" bindtap="goToOrders" data-status="completed">
        <view class="status-icon completed-icon">
          <view class="icon-placeholder">å®Œ</view>
          <view class="badge" wx:if="{{orderStats.completed > 0}}">{{orderStats.completed}}</view>
        </view>
        <text>å·²å®Œæˆ</text>
      </view>
    </view>
  </view>

  <!-- æœ€è¿‘è®¢å•åŒºåŸŸ -->
  <view class="recent-orders">
    <view class="orders-header">
      <text class="orders-title">æœ€è¿‘è®¢å•</text>
    </view>
    <block wx:for="{{recentOrders}}" wx:key="id">
      <view class="recent-order-item" bindtap="goToOrderDetail" data-id="{{item.id}}">
        <view class="order-header">
          <text class="order-number">è®¢å•å·: {{item.id}}</text>
          <text class="order-status {{item.status}}">{{item.statusText}}</text>
        </view>
        <view class="order-products">
          <view class="product-images">
            <block wx:for="{{item.products}}" wx:for-item="product" wx:key="id">
              <view class="product-image-container">
                <image src="{{product.image}}" mode="aspectFill"></image>
                <view class="product-count">{{product.count}}</view>
              </view>
            </block>
          </view>
          <view class="order-price">
            <text>å…± {{item.totalCount}} ä»¶</text>
            <text class="price">Â¥{{item.totalPrice}}</text>
          </view>
        </view>
      </view>
    </block>
  </view>

  <!-- ç”¨æˆ·æœåŠ¡èœå• -->
  <view class="user-services">
    <navigator url="/pages/address/address-list" class="service-item">
      <view class="service-icon location-icon">
        <view class="icon-placeholder">åœ°</view>
      </view>
      <text class="service-name">æ”¶è´§åœ°å€</text>
      <view class="service-arrow"></view>
    </navigator>

    <view class="service-item" bindtap="showDevelopingToast">
      <view class="service-icon favorite-icon">
        <view class="icon-placeholder">è—</view>
      </view>
      <text class="service-name">æˆ‘çš„æ”¶è—</text>
      <view class="service-arrow"></view>
    </view>
  </view>

  <!-- è®¾ç½®èœå• -->
  <view class="settings-menu">
    <navigator url="/pages/about/about" class="setting-item">
      <view class="setting-icon">
        <view class="icon-placeholder">i</view>
      </view>
      <text class="setting-name">å…³äºæˆ‘ä»¬</text>
      <view class="setting-badge">i</view>
      <view class="setting-arrow"></view>
    </navigator>
    
    <!-- ç®¡ç†å‘˜å…¥å£ -->
    <navigator url="/pages/admin/login/login" class="setting-item admin-entry">
      <view class="setting-icon admin-icon">
        <view class="icon-placeholder">ç®¡</view>
      </view>
      <text class="setting-name">ç®¡ç†å‘˜å…¥å£</text>
      <view class="setting-arrow"></view>
    </navigator>

    <!-- æ•°æ®åˆå§‹åŒ–å…¥å£å·²ç§»é™¤ï¼Œç»Ÿä¸€ä½¿ç”¨ç®¡ç†æ§åˆ¶å°å…¥å£ -->
  </view>
</view> 