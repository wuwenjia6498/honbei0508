<!-- pages/checkout/checkout.wxml -->
<view class="page">
  <!-- é¡µé¢å¤´éƒ¨ -->
  <view class="header">
    <view class="back-icon" bindtap="goBack">ã€ˆ</view>
    <view class="page-title">è®¢å•ç¡®è®¤</view>
  </view>

  <!-- é…é€åœ°å€ -->
  <view class="address-section" bindtap="navigateToAddress">
    <view class="location-icon">ğŸ“</view>
    <view class="section-content">
      <view class="section-label">é…é€åœ°å€</view>
      <view class="address-info">
        <view>
          <text class="user-name">{{address.name}}</text>
          <text class="user-phone">{{address.phone}}</text>
        </view>
        <view class="address-text">{{address.address}}</view>
      </view>
    </view>
    <view class="arrow-icon">â€º</view>
  </view>

  <!-- é…é€æ—¶é—´ -->
  <view class="delivery-section" bindtap="selectDeliveryTime">
    <view class="time-icon">ğŸ•’</view>
    <view class="section-content">
      <view class="section-label">é…é€æ—¶é—´</view>
      <view class="time-value">{{deliveryTime}}</view>
    </view>
    <view class="arrow-icon">â€º</view>
  </view>

  <!-- é…é€æç¤º -->
  <view class="notice-section">
    <view class="notice-icon">â„¹ï¸</view>
    <view class="notice-text">{{notification}}</view>
  </view>

  <!-- è®¢å•å•†å“åˆ—è¡¨ -->
  <view class="order-items-section">
    <view class="section-title">è®¢å•å•†å“</view>
    
    <view class="order-items">
      <block wx:for="{{orderItems}}" wx:key="id">
        <view class="order-item">
          <image class="item-image" src="{{item.image}}" mode="aspectFill"></image>
          <view class="item-details">
            <view class="item-name">{{item.name}}</view>
            <view class="item-spec">{{item.specs}}</view>
            <view class="item-price-row">
              <text class="item-price">Â¥{{item.price}}</text>
              <text class="item-count">x{{item.count}}</text>
            </view>
          </view>
        </view>
      </block>
    </view>
  </view>

  <!-- æ”¯ä»˜æ–¹å¼ -->
  <view class="payment-section">
    <view class="section-title">æ”¯ä»˜æ–¹å¼</view>
    
    <view class="payment-options">
      <block wx:for="{{paymentMethods}}" wx:key="id">
        <view class="payment-option {{item.selected ? 'selected' : ''}}" bindtap="selectPayment" data-id="{{item.id}}">
          <image class="payment-icon" src="/assets/images/payment/{{item.id == 'wechat' ? 'wechat-pay' : (item.id == 'cod' ? 'cash' : item.id)}}.png"></image>
          <view class="payment-name">{{item.name}}</view>
          <view class="payment-radio">
            <view class="radio-inner {{item.selected ? 'checked' : ''}}"></view>
          </view>
        </view>
      </block>
    </view>
  </view>

  <!-- è®¢å•é‡‘é¢ -->
  <view class="amount-section">
    <view class="section-title">è®¢å•é‡‘é¢</view>
    
    <view class="amount-list">
      <view class="amount-item">
        <text class="amount-label">å•†å“é‡‘é¢</text>
        <text class="amount-value">Â¥{{orderAmount.goodsTotal}}</text>
      </view>
      <view class="amount-item">
        <text class="amount-label">é…é€è´¹</text>
        <text class="amount-value">Â¥{{orderAmount.delivery}}</text>
      </view>
      <view class="amount-item discount">
        <text class="amount-label">ä¼˜æƒ </text>
        <text class="amount-value">-Â¥{{orderAmount.discount}}</text>
      </view>
    </view>
    
    <view class="total-amount">
      <text class="total-label">å®ä»˜é‡‘é¢</text>
      <text class="total-value">Â¥{{orderAmount.total}}</text>
    </view>
  </view>

  <!-- æ”¯ä»˜æŒ‰é’® -->
  <view class="pay-btn-container">
    <button class="pay-btn" bindtap="confirmPayment">ç¡®è®¤æ”¯ä»˜ Â¥{{orderAmount.total}}</button>
  </view>
</view> 