<view class="cart-container">
  <!-- 头部标题和编辑按钮 -->
  <view class="cart-header">
    <text class="header-title">我的购物车</text>
    <text class="header-edit" bindtap="onToggleEditMode">{{isEditing ? '完成' : '编辑'}}</text>
  </view>

  <!-- 配送通知栏 -->
  <view class="delivery-notice">
    <icon class="notice-icon" type="info" size="16" color="#fff"></icon>
    <text class="notice-text">今日特供商品，结账后新鲜烘焙，21:00前下单可当日配送</text>
  </view>

  <!-- 购物车商品列表 -->
  <view class="cart-items">
    <block wx:for="{{cartItems}}" wx:key="id">
      <view class="cart-item">
        <checkbox class="item-checkbox" checked="{{item.checked}}" color="#ff6b6b" bindtap="onToggleItemCheck" data-index="{{index}}" />
        <image class="item-image" src="{{item.image}}"></image>
        <view class="item-info">
          <text class="item-name">{{item.name}}</text>
          <text class="item-desc">{{item.desc}}</text>
          <view class="item-price-row">
            <text class="item-price">¥{{item.price}}</text>
            <view class="item-counter">
              <text class="counter-btn counter-minus" bindtap="onDecreaseCount" data-index="{{index}}">-</text>
              <text class="counter-num">{{item.count}}</text>
              <text class="counter-btn counter-plus" bindtap="onIncreaseCount" data-index="{{index}}">+</text>
            </view>
          </view>
        </view>
      </view>
    </block>
  </view>

  <!-- 订单备注 -->
  <view class="order-remark" bindtap="onAddRemark">
    <icon class="remark-icon" type="warn" size="14" color="#ff6b6b"></icon>
    <text class="remark-title">订单备注</text>
    <text class="remark-link">添加备注信息 ></text>
  </view>

  <!-- 订单价格明细 -->
  <view class="price-detail">
    <view class="price-row">
      <text class="price-label">小计</text>
      <text class="price-value">¥{{subtotal}}</text>
    </view>
    <view class="price-row">
      <text class="price-label">配送费</text>
      <text class="price-value">¥{{deliveryFee}}.00</text>
    </view>
    <view class="price-row">
      <text class="price-label">优惠</text>
      <text class="price-value discount">-¥{{discount}}.00</text>
    </view>
  </view>

  <!-- 结算栏 -->
  <view class="checkout-bar">
    <view class="select-all" bindtap="onToggleAllCheck">
      <checkbox class="all-checkbox" checked="{{allChecked}}" color="#ff6b6b" />
      <text class="all-text">全选</text>
    </view>
    <view class="total-section">
      <text class="total-label">合计：</text>
      <text class="total-price">¥{{totalPrice}}</text>
    </view>
    <view class="checkout-btn" bindtap="onCheckout">
      <text class="btn-text">去结算 ({{totalCount}}件)</text>
    </view>
  </view>
</view> 