<!-- 订单详情页 -->
<view class="order-detail">
  <!-- 订单状态 -->
  <view class="order-status">
    <view class="status-icon">
      <image src="/assets/images/icons/delivery.svg"></image>
    </view>
    <view class="status-info">
      <view class="status-title">{{orderInfo.statusText}}</view>
      <view class="status-desc">{{orderInfo.statusDesc}}</view>
    </view>
  </view>

  <!-- 订单进度 -->
  <view class="order-progress">
    <view class="progress-item {{item.status}}" wx:for="{{orderInfo.progress}}" wx:key="title">
      <view class="progress-dot"></view>
      <view class="progress-content">
        <view class="progress-title">{{item.title}}</view>
        <view class="progress-time" wx:if="{{item.time}}">{{item.time}}</view>
        <view class="progress-delivery" wx:if="{{item.delivery}}">{{item.delivery}}</view>
        <view class="progress-desc" wx:if="{{item.desc && item.status === 'completed'}}">{{item.desc}}</view>
        <view class="progress-desc" wx:if="{{item.waitDesc && item.status !== 'completed'}}">{{item.waitDesc}}</view>
      </view>
    </view>
  </view>

  <!-- 收货人信息 -->
  <view class="recipient-info">
    <view class="recipient-icon">
      <image src="/assets/images/icons/location.svg"></image>
    </view>
    <view class="recipient-detail">
      <view class="recipient-name">{{orderInfo.recipient.name}}，{{orderInfo.recipient.phone}}</view>
      <view class="recipient-address">{{orderInfo.recipient.address}}</view>
    </view>
  </view>

  <!-- 订单商品 -->
  <view class="order-products">
    <view class="section-title bold">订单商品</view>
    <view class="product-item" wx:for="{{orderInfo.products}}" wx:key="id">
      <image class="product-image" src="{{item.image}}"></image>
      <view class="product-info">
        <view class="product-name">{{item.name}}</view>
        <view class="product-desc">{{item.desc}}</view>
      </view>
      <view class="product-price-qty">
        <view class="product-price">¥{{item.price}}</view>
        <view class="product-qty">x{{item.quantity}}</view>
      </view>
    </view>
  </view>

  <!-- 订单信息 -->
  <view class="order-info">
    <view class="section-title bold">订单信息</view>
    <view class="info-item">
      <text class="info-label">订单编号</text>
      <view class="info-value">
        <text>{{orderInfo.orderDetail.orderNumber}}</text>
        <text class="copy-btn" bindtap="copyOrderNumber">复制</text>
      </view>
    </view>
    <view class="info-item">
      <text class="info-label">下单时间</text>
      <text class="info-value">{{orderInfo.orderDetail.orderTime}}</text>
    </view>
    <view class="info-item">
      <text class="info-label">支付方式</text>
      <text class="info-value">{{orderInfo.orderDetail.paymentMethod}}</text>
    </view>
    <view class="info-item">
      <text class="info-label">配送时间</text>
      <text class="info-value">{{orderInfo.orderDetail.deliveryTime}}</text>
    </view>
    <view class="info-item">
      <text class="info-label">备注</text>
      <text class="info-value">{{orderInfo.orderDetail.remark}}</text>
    </view>
  </view>

  <!-- 订单金额 -->
  <view class="order-amount">
    <view class="section-title bold">订单金额</view>
    <view class="amount-item">
      <text class="amount-label">商品金额</text>
      <text class="amount-value">¥{{orderInfo.amount.productTotal}}</text>
    </view>
    <view class="amount-item">
      <text class="amount-label">配送费</text>
      <text class="amount-value">¥{{orderInfo.amount.deliveryFee}}</text>
    </view>
    <view class="amount-item">
      <text class="amount-label">优惠</text>
      <text class="amount-value discount">-¥{{orderInfo.amount.discount}}</text>
    </view>
    <view class="amount-item total">
      <text class="amount-label bold">实付金额</text>
      <text class="amount-value">¥{{orderInfo.amount.total}}</text>
    </view>
  </view>

  <!-- 底部按钮 -->
  <view class="bottom-btns">
    <button class="btn btn-contact" bindtap="contactService">联系我</button>
    <button class="btn btn-reorder" bindtap="reorder">再来一单</button>
  </view>
</view> 